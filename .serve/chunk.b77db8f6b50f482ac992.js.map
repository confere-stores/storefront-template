{"version":3,"sources":["webpack:///./__fixtures__/empty.scss?bf17","webpack:///./node_modules/@confere-stores/storefront-components/src/ShippingLine.vue","webpack:///./node_modules/@confere-stores/storefront-components/src/html/ShippingLine.html","webpack:///./node_modules/@confere-stores/storefront-components/src/js/ShippingLine.js","webpack:///./node_modules/@confere-stores/storefront-components/src/js/ShippingLine.js?df13","webpack:///./node_modules/@ecomplus/storefront-app/src/views/Confirmation.vue","webpack:///./node_modules/@ecomplus/storefront-app/src/views/Confirmation.vue?d500","webpack:///./node_modules/@ecomplus/storefront-app/src/views/js/Confirmation.js?a541","webpack:///./node_modules/@ecomplus/storefront-app/src/views/js/Confirmation.js","webpack:///./__fixtures__/empty.scss","webpack:///./node_modules/@confere-stores/storefront-components/src/html/ShippingLine.html?d6df","webpack:///./node_modules/@ecomplus/storefront-app/src/views/Confirmation.vue?10f3","webpack:///./__fixtures__/empty.scss?95cf"],"names":["name","components","EcOrderInfo","data","canUpsertCart","computed","mapGetters","orderId","$route","params","id","order","get","orders","find","_id","set","concat","stateOrder","Object","assign","push","setOrders","json","$router","encodeURIComponent","JSON","stringify","methods","mapMutations","mapActions","handleUpsertCart","status","ecomCart","completed","upsertCart","then","resetCart","created","customer","ecomPassport","checkAuthorization","main_email","doc_number","fetchLogin","saveCustomer","mounted"],"mappings":"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","file":"chunk.b77db8f6b50f482ac992.js","sourcesContent":["export * from \"-!../node_modules/vue-style-loader/index.js!../node_modules/css-loader/dist/cjs.js??ref--0-oneOf-0-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/resolve-url-loader/index.js??ref--0-oneOf-0-2!../node_modules/postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../node_modules/sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./empty.scss?vue&type=style&index=0&lang=scss&\"","import { render, staticRenderFns } from \"./html/ShippingLine.html?vue&type=template&id=75abe54c&lang=html&\"\nimport script from \"./js/ShippingLine.js?vue&type=script&lang=js&\"\nexport * from \"./js/ShippingLine.js?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/jescudero/ConfereCartoes/@confere-stores/storefront-template/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('75abe54c')) {\n      api.createRecord('75abe54c', component.options)\n    } else {\n      api.reload('75abe54c', component.options)\n    }\n    module.hot.accept(\"./html/ShippingLine.html?vue&type=template&id=75abe54c&lang=html&\", function () {\n      api.rerender('75abe54c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"node_modules/@confere-stores/storefront-components/src/ShippingLine.vue\"\nexport default component.exports","export * from \"-!../../../../vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./ShippingLine.html?vue&type=template&id=75abe54c&lang=html&\"","import {\n  i19days,\n  i19freeShipping,\n  i19upTo,\n  i19workingDays\n} from '@ecomplus/i18n'\n\nimport {\n  i18n,\n  formatMoney\n} from '@ecomplus/utils'\n\nexport default {\n  name: 'ShippingLine',\n\n  props: {\n    shippingLine: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    deadlineStr () {\n      const shipping = this.shippingLine\n      const isWorkingDays = (shipping.posting_deadline && shipping.posting_deadline.working_days) ||\n        (shipping.delivery_time && shipping.delivery_time.working_days)\n      let days = shipping.posting_deadline ? shipping.posting_deadline.days : 0\n      if (shipping.delivery_time) {\n        days += shipping.delivery_time.days\n      }\n      return `${i18n(i19upTo)} ${days} ${i18n(isWorkingDays ? i19workingDays : i19days)}`\n    },\n\n    freightValueStr () {\n      const freight = typeof this.shippingLine.total_price === 'number'\n        ? this.shippingLine.total_price\n        : this.shippingLine.price\n      if (freight) {\n        return formatMoney(freight)\n      } else {\n        return i18n(i19freeShipping)\n      }\n    }\n  }\n}\n","import mod from \"-!./ShippingLine.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!./ShippingLine.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Confirmation.vue?vue&type=template&id=4e9ffc64&\"\nimport script from \"./js/Confirmation.js?vue&type=script&lang=js&\"\nexport * from \"./js/Confirmation.js?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/jescudero/ConfereCartoes/@confere-stores/storefront-template/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4e9ffc64')) {\n      api.createRecord('4e9ffc64', component.options)\n    } else {\n      api.reload('4e9ffc64', component.options)\n    }\n    module.hot.accept(\"./Confirmation.vue?vue&type=template&id=4e9ffc64&\", function () {\n      api.rerender('4e9ffc64', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"node_modules/@ecomplus/storefront-app/src/views/Confirmation.vue\"\nexport default component.exports","export * from \"-!../../../../vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../vue-loader/lib/index.js??vue-loader-options!./Confirmation.vue?vue&type=template&id=4e9ffc64&\"","import mod from \"-!../../../../../babel-loader/lib/index.js??ref--1!./Confirmation.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../babel-loader/lib/index.js??ref--1!./Confirmation.js?vue&type=script&lang=js&\"","import { mapGetters, mapMutations, mapActions } from 'vuex'\nimport ecomCart from '@ecomplus/shopping-cart'\nimport ecomPassport from '@ecomplus/passport-client'\nimport { upsertCart } from './../../lib/sync-cart-to-api'\nimport EcOrderInfo from './../../components/EcOrderInfo.vue'\n\nexport default {\n  name: 'confirmation',\n\n  components: {\n    EcOrderInfo\n  },\n\n  data () {\n    return {\n      canUpsertCart: true\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'orders',\n      'customer'\n    ]),\n\n    orderId () {\n      return this.$route.params.id\n    },\n\n    order: {\n      get () {\n        return this.orders.find(({ _id }) => _id === this.orderId) || { _id: this.orderId }\n      },\n      set (order) {\n        if (order && order._id === this.orderId) {\n          const orders = this.orders.concat()\n          const stateOrder = orders.find(({ _id }) => _id === order._id)\n          if (stateOrder) {\n            Object.assign(stateOrder, order)\n          } else {\n            orders.push(order)\n          }\n          this.setOrders(orders)\n          if (!this.$route.params.json) {\n            this.$router.push({\n              params: {\n                json: encodeURIComponent(JSON.stringify(order))\n              }\n            })\n          }\n        }\n      }\n    }\n  },\n\n  methods: {\n    ...mapMutations([\n      'addOrder',\n      'setOrders',\n      'resetCart'\n    ]),\n    ...mapActions([\n      'saveCustomer'\n    ]),\n\n    handleUpsertCart () {\n      if (this.canUpsertCart) {\n        this.canUpsertCart = false\n        const { status } = this.order\n        if (status && status !== 'cancelled') {\n          ecomCart.data.completed = true\n          if (this.orderId) {\n            if (!ecomCart.data.orders) {\n              ecomCart.data.orders = []\n            }\n            ecomCart.data.orders.push(this.orderId)\n          }\n          upsertCart().then(this.resetCart)\n        }\n      }\n    }\n  },\n\n  created () {\n    const { customer } = this\n    if (!ecomPassport.checkAuthorization()) {\n      if (customer.main_email && customer.doc_number) {\n        ecomPassport.fetchLogin(customer.main_email, customer.doc_number).then(() => {\n          this.saveCustomer({ ecomPassport })\n          this.handleUpsertCart()\n        })\n      }\n    }\n  },\n\n  mounted () {\n    if (ecomPassport.checkAuthorization()) {\n      this.handleUpsertCart()\n    }\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"empty.scss\"}]);\n// Exports\nmodule.exports = exports;\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"shipping-line\" }, [\n    _c(\"strong\", [_vm._v(\"\\n    \" + _vm._s(_vm.deadlineStr) + \"\\n  \")]),\n    _vm._v(\" \"),\n    _c(\"span\", { staticClass: \"mx-2\" }, [\n      _vm._v(\"\\n    \" + _vm._s(_vm.freightValueStr) + \"\\n  \")\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { id: \"confirmation\" } },\n    [\n      _c(\"ec-order-info\", {\n        attrs: { order: _vm.order, isNew: true },\n        on: {\n          \"update:order\": function($event) {\n            _vm.order = $event\n          }\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--0-oneOf-0-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/resolve-url-loader/index.js??ref--0-oneOf-0-2!../node_modules/postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../node_modules/sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./empty.scss?vue&type=style&index=0&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"444d28a4\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js??ref--0-oneOf-0-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/resolve-url-loader/index.js??ref--0-oneOf-0-2!../node_modules/postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../node_modules/sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./empty.scss?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--0-oneOf-0-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/resolve-url-loader/index.js??ref--0-oneOf-0-2!../node_modules/postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../node_modules/sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./empty.scss?vue&type=style&index=0&lang=scss&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}