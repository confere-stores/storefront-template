(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~app-account~app-confirmation~app-order"],{

/***/ "./node_modules/@ecomplus/storefront-app/src/components/EcOrderInfo.vue":
/*!******************************************************************************!*\
  !*** ./node_modules/@ecomplus/storefront-app/src/components/EcOrderInfo.vue ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _html_EcOrderInfo_html_vue_type_template_id_6f5567da_lang_html___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./html/EcOrderInfo.html?vue&type=template&id=6f5567da&lang=html& */ "./node_modules/@ecomplus/storefront-app/src/components/html/EcOrderInfo.html?vue&type=template&id=6f5567da&lang=html&");
/* harmony import */ var _js_EcOrderInfo_js_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./js/EcOrderInfo.js?vue&type=script&lang=js& */ "./node_modules/@ecomplus/storefront-app/src/components/js/EcOrderInfo.js?vue&type=script&lang=js&");
/* empty/unused harmony star reexport *//* harmony import */ var _scss_EcOrderInfo_scss_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scss/EcOrderInfo.scss?vue&type=style&index=0&lang=scss& */ "./node_modules/@ecomplus/storefront-app/src/components/scss/EcOrderInfo.scss?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");






/* normalize component */

var component = Object(_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _js_EcOrderInfo_js_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _html_EcOrderInfo_html_vue_type_template_id_6f5567da_lang_html___WEBPACK_IMPORTED_MODULE_0__["render"],
  _html_EcOrderInfo_html_vue_type_template_id_6f5567da_lang_html___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "node_modules/@ecomplus/storefront-app/src/components/EcOrderInfo.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "./node_modules/@ecomplus/storefront-app/src/components/html/EcOrderInfo.html?vue&type=template&id=6f5567da&lang=html&":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/@ecomplus/storefront-app/src/components/html/EcOrderInfo.html?vue&type=template&id=6f5567da&lang=html& ***!
  \*****************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _vue_loader_lib_loaders_templateLoader_js_vue_loader_options_EcOrderInfo_html_vue_type_template_id_6f5567da_lang_html___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./EcOrderInfo.html?vue&type=template&id=6f5567da&lang=html& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/@ecomplus/storefront-app/src/components/html/EcOrderInfo.html?vue&type=template&id=6f5567da&lang=html&");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _vue_loader_lib_loaders_templateLoader_js_vue_loader_options_EcOrderInfo_html_vue_type_template_id_6f5567da_lang_html___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _vue_loader_lib_loaders_templateLoader_js_vue_loader_options_EcOrderInfo_html_vue_type_template_id_6f5567da_lang_html___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ "./node_modules/@ecomplus/storefront-app/src/components/js/EcOrderInfo.js?vue&type=script&lang=js&":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@ecomplus/storefront-app/src/components/js/EcOrderInfo.js?vue&type=script&lang=js& ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_loader_lib_index_js_ref_1_EcOrderInfo_js_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../babel-loader/lib??ref--1!./EcOrderInfo.js?vue&type=script&lang=js& */ "./node_modules/babel-loader/lib/index.js?!./node_modules/@ecomplus/storefront-app/src/components/js/EcOrderInfo.js?vue&type=script&lang=js&");
/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_babel_loader_lib_index_js_ref_1_EcOrderInfo_js_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./node_modules/@ecomplus/storefront-app/src/components/scss/EcOrderInfo.scss?vue&type=style&index=0&lang=scss&":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/@ecomplus/storefront-app/src/components/scss/EcOrderInfo.scss?vue&type=style&index=0&lang=scss& ***!
  \**********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _vue_style_loader_index_js_css_loader_dist_cjs_js_ref_0_oneOf_0_1_vue_loader_lib_loaders_stylePostLoader_js_resolve_url_loader_index_js_ref_0_oneOf_0_2_postcss_loader_dist_cjs_js_ref_0_oneOf_0_3_sass_loader_dist_cjs_js_ref_0_oneOf_0_4_EcOrderInfo_scss_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../vue-style-loader!../../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../resolve-url-loader??ref--0-oneOf-0-2!../../../../../postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./EcOrderInfo.scss?vue&type=style&index=0&lang=scss& */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/@ecomplus/storefront-app/src/components/scss/EcOrderInfo.scss?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _vue_style_loader_index_js_css_loader_dist_cjs_js_ref_0_oneOf_0_1_vue_loader_lib_loaders_stylePostLoader_js_resolve_url_loader_index_js_ref_0_oneOf_0_2_postcss_loader_dist_cjs_js_ref_0_oneOf_0_3_sass_loader_dist_cjs_js_ref_0_oneOf_0_4_EcOrderInfo_scss_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_vue_style_loader_index_js_css_loader_dist_cjs_js_ref_0_oneOf_0_1_vue_loader_lib_loaders_stylePostLoader_js_resolve_url_loader_index_js_ref_0_oneOf_0_2_postcss_loader_dist_cjs_js_ref_0_oneOf_0_3_sass_loader_dist_cjs_js_ref_0_oneOf_0_4_EcOrderInfo_scss_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _vue_style_loader_index_js_css_loader_dist_cjs_js_ref_0_oneOf_0_1_vue_loader_lib_loaders_stylePostLoader_js_resolve_url_loader_index_js_ref_0_oneOf_0_2_postcss_loader_dist_cjs_js_ref_0_oneOf_0_3_sass_loader_dist_cjs_js_ref_0_oneOf_0_4_EcOrderInfo_scss_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _vue_style_loader_index_js_css_loader_dist_cjs_js_ref_0_oneOf_0_1_vue_loader_lib_loaders_stylePostLoader_js_resolve_url_loader_index_js_ref_0_oneOf_0_2_postcss_loader_dist_cjs_js_ref_0_oneOf_0_3_sass_loader_dist_cjs_js_ref_0_oneOf_0_4_EcOrderInfo_scss_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js?!./node_modules/@ecomplus/storefront-app/src/components/js/EcOrderInfo.js?vue&type=script&lang=js&":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib??ref--1!./node_modules/@ecomplus/storefront-app/src/components/js/EcOrderInfo.js?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.promise.finally.js */ "./node_modules/core-js/modules/es.promise.finally.js");
/* harmony import */ var core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ecomplus/i18n */ "./node_modules/@ecomplus/i18n/src/pt_br/index.js");
/* harmony import */ var _ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ecomplus/utils */ "./node_modules/@ecomplus/utils/src/index.js");
/* harmony import */ var _ecomplus_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ecomplus/client */ "./node_modules/@ecomplus/client/src/index.js");
/* harmony import */ var _ecomplus_passport_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ecomplus/passport-client */ "./node_modules/@ecomplus/passport-client/src/index.js");
/* harmony import */ var _ecomplus_shopping_cart__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ecomplus/shopping-cart */ "./node_modules/@ecomplus/shopping-cart/src/index.js");
/* harmony import */ var _ecomplus_search_engine__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ecomplus/search-engine */ "./node_modules/@ecomplus/search-engine/src/index.js");
/* harmony import */ var _components_ShippingLine_vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! #components/ShippingLine.vue */ "./node_modules/@ecomplus/storefront-components/src/ShippingLine.vue");
/* harmony import */ var _EcSummary_vue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./../EcSummary.vue */ "./node_modules/@ecomplus/storefront-app/src/components/EcSummary.vue");









/* harmony default export */ __webpack_exports__["default"] = ({
  name: 'EcOrderInfo',
  components: {
    ShippingLine: _components_ShippingLine_vue__WEBPACK_IMPORTED_MODULE_7__["default"],
    EcSummary: _EcSummary_vue__WEBPACK_IMPORTED_MODULE_8__["default"]
  },
  props: {
    order: {
      type: Object,
      required: true
    },
    isNew: Boolean,
    skipDataLoad: Boolean,
    skipFirstDataLoad: Boolean,
    skipCustomerUpdate: Boolean,
    accountOrdersUrl: {
      type: String,
      default: '/app/#/account/orders'
    },
    cartUrl: {
      type: String,
      default: '/app/#/cart'
    },
    ecomCart: {
      type: Object,

      default() {
        return _ecomplus_shopping_cart__WEBPACK_IMPORTED_MODULE_5__["default"];
      }

    },
    ecomPassport: {
      type: Object,

      default() {
        return _ecomplus_passport_client__WEBPACK_IMPORTED_MODULE_4__["default"];
      }

    }
  },

  data() {
    return {
      isLoaded: this.skipDataLoad || this.skipFirstDataLoad,
      isUpdating: false,
      reloadInterval: null,
      orderBody: this.order,
      canReopenOrder: false
    };
  },

  computed: {
    i19buyAgain: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19buyAgain"]),
    i19cancelOrder: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19cancelOrder"]),
    i19codeCopied: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19codeCopied"]),
    i19copyCode: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19copyCode"]),
    i19copyErrorMsg: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19copyErrorMsg"]),
    i19doPaymentMsg: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19doPaymentMsg"]),
    i19freight: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19freight"]),
    i19login: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19login"]),
    i19loginForOrderDetailsMsg: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19loginForOrderDetailsMsg"]),
    i19myOrders: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19myOrders"]),
    i19notes: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19notes"]),
    i19of: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19of"]),
    i19orderConfirmationMsg: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19orderConfirmationMsg"]),
    i19orderNumber: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19orderNumber"]),
    i19printBillet: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19printBillet"]),
    i19redirectToPayment: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19redirectToPayment"]),
    i19referenceCode: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19referenceCode"]),
    i19reopenOrder: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19reopenOrder"]),
    i19shippingAddress: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19shippingAddress"]),
    i19transactionCode: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19transactionCode"]),
    i19ticketCode: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19ticketCode"]),
    i19trackDelivery: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19trackDelivery"]),
    i19zipCode: () => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19zipCode"]),
    localOrder: {
      get() {
        return this.orderBody;
      },

      set(body) {
        this.orderBody = body;
        this.$emit('update:order', body);
        this.saveCustomerOrder();
      }

    },

    hasManyTransactions() {
      const {
        transactions
      } = this.localOrder;
      return transactions && transactions.length > 1;
    },

    transaction() {
      const {
        transactions
      } = this.localOrder;
      return transactions && transactions.length ? transactions[0] : {};
    },

    shippingAddress() {
      const {
        localOrder
      } = this;

      if (localOrder.shipping_lines && localOrder.shipping_lines.length) {
        return localOrder.shipping_lines[0].to;
      }

      return undefined;
    },

    canShowShippingAddress() {
      const {
        localOrder,
        shippingAddress
      } = this;

      if (shippingAddress && shippingAddress.street) {
        return !/(retira|pick\s?up|e-?mail)/i.test(localOrder.shipping_method_label);
      }

      return false;
    },

    status() {
      return this.localOrder.status;
    },

    financialStatus() {
      const {
        localOrder,
        transaction
      } = this;

      if (localOrder.payments_history) {
        let statusRecord;
        localOrder.payments_history.forEach(record => {
          if (record && (!statusRecord || !record.date_time || record.date_time >= statusRecord.date_time)) {
            statusRecord = record;
          }
        });

        if (statusRecord) {
          return statusRecord.status;
        }
      }

      const status = localOrder.financial_status && localOrder.financial_status.current;

      if (status) {
        return status;
      } else {
        if (transaction && transaction.status) {
          return transaction.status.current;
        }
      }

      return 'pending';
    },

    fulfillmentStatus() {
      const {
        localOrder
      } = this;
      const status = localOrder.fulfillment_status && localOrder.fulfillment_status.current;

      if (status) {
        return status;
      } else {
        const shippingLine = localOrder.shipping_lines && localOrder.shipping_lines[0];

        if (shippingLine && shippingLine.status) {
          return shippingLine.status.current;
        }
      }

      return null;
    },

    statusEntries() {
      const statusEntries = [];
      let statusRecords = [];
      ['payments_history', 'fulfillments'].forEach(recordsField => {
        if (Array.isArray(this.localOrder[recordsField])) {
          statusRecords = statusRecords.concat(this.localOrder[recordsField]);
        }
      });

      if (statusRecords.length) {
        statusRecords = statusRecords = statusRecords.sort((a, b) => {
          if (a.date_time && b.date_time) {
            return a.date_time > b.date_time ? -1 : 1;
          }

          return 0;
        });
        statusRecords.forEach((statusRecord, i) => {
          if (i > 0 && statusRecord.status === statusRecords[i - 1].status) {
            return;
          }

          statusEntries.push(statusRecord);
        });
      }

      return statusEntries;
    },

    isAuthenticated() {
      return this.ecomPassport.checkAuthorization();
    }

  },
  methods: {
    i19FinancialStatus: prop => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19FinancialStatus"])[prop],
    i19FulfillmentStatus: prop => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19FulfillmentStatus"])[prop],
    i19OrderStatus: prop => Object(_ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["i18n"])(_ecomplus_i18n__WEBPACK_IMPORTED_MODULE_1__["i19OrderStatus"])[prop],
    formatMoney: _ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["formatMoney"],
    formatDate: _ecomplus_utils__WEBPACK_IMPORTED_MODULE_2__["formatDate"],

    formatTime(time) {
      const miliseconds = Date.parse(time);
      const date = new Date(miliseconds);
      return date.toLocaleTimeString();
    },

    toClipboard(text) {
      this.$copyText(text).then(() => {
        this.$toast({
          title: this.i19codeCopied,
          body: text,
          variant: 'success',
          delay: 2000
        });
      }, err => {
        console.error(err);
        this.$toast({
          title: 'Oops',
          body: "".concat(this.i19copyErrorMsg, ": <i>").concat(text, "</i>"),
          variant: 'warning',
          delay: 3000
        });
      });
    },

    saveCustomerOrder() {
      const {
        localOrder,
        ecomPassport
      } = this;

      if (!this.skipCustomerUpdate && localOrder.number && ecomPassport.checkAuthorization()) {
        ecomPassport.requestApi('/me.json').then(_ref => {
          let {
            data
          } = _ref;
          const orders = data.orders ? data.orders.slice(-300) : [];
          const resumedOrderBody = {};
          ['_id', 'created_at', 'number', 'currency_id', 'currency_symbol', 'amount', 'payment_method_label', 'shipping_method_label'].forEach(field => {
            if (localOrder[field]) {
              resumedOrderBody[field] = localOrder[field];
            }
          });
          const orderIndex = orders.findIndex(_ref2 => {
            let {
              _id,
              number
            } = _ref2;
            return _id === localOrder._id || number === localOrder.number;
          });

          if (orderIndex > -1) {
            Object.assign(orders[orderIndex], resumedOrderBody);
          } else {
            orders.push(resumedOrderBody);
          }

          ecomPassport.requestApi('/me.json', 'patch', {
            orders
          });
        });
      }
    },

    buyAgain() {
      const {
        localOrder
      } = this;

      if (localOrder.items) {
        const {
          items
        } = localOrder;
        _ecomplus_shopping_cart__WEBPACK_IMPORTED_MODULE_5__["default"].clear();
        items.forEach((item, i) => {
          _ecomplus_shopping_cart__WEBPACK_IMPORTED_MODULE_5__["default"].addItem(item, false);

          if (i + 1 === items.length) {
            _ecomplus_shopping_cart__WEBPACK_IMPORTED_MODULE_5__["default"].save();
            window.location = this.cartUrl;
          }
        });
      }
    },

    toggle() {
      this.isUpdating = true;
      const data = this.localOrder.status === 'open' ? {
        status: 'cancelled',
        cancel_reason: 'customer'
      } : {
        status: 'open'
      };
      _ecomplus_passport_client__WEBPACK_IMPORTED_MODULE_4__["default"].requestApi("/orders/".concat(this.order._id, ".json"), 'patch', data).then(() => {
        this.localOrder = { ...this.localOrder,
          ...data
        };
      }).finally(() => {
        this.isUpdating = false;
      });
    }

  },
  watch: {
    isLoaded: {
      handler(isLoaded) {
        if (isLoaded && this.isAuthenticated && this.status === 'cancelled') {
          const {
            items
          } = this.localOrder;

          if (items && items.length) {
            const productIds = items.map(item => item.product_id);
            const search = new _ecomplus_search_engine__WEBPACK_IMPORTED_MODULE_6__["default"]();
            search.setPageSize(productIds.length).setProductIds(productIds).fetch(true).then(() => {
              for (let i = 0; i < items.length; i++) {
                const orderItem = items[i];
                const product = search.getItems().find(_ref3 => {
                  let {
                    _id
                  } = _ref3;
                  return _id === orderItem.product_id;
                });

                if (product) {
                  if (orderItem.variation_id) {
                    if (product.variations) {
                      const variation = product.variations.find(_ref4 => {
                        let {
                          sku
                        } = _ref4;
                        return sku === orderItem.sku;
                      });

                      if (variation && variation.quantity >= orderItem.quantity) {
                        continue;
                      }
                    }
                  }

                  if (product.quantity >= orderItem.quantity) {
                    continue;
                  }
                }

                this.canReopenOrder = false;
                return;
              }

              this.canReopenOrder = true;
            }).catch(console.error);
          }
        }
      },

      immediate: true
    }
  },

  created() {
    if (this.order._id) {
      if (this.isNew) {
        this.saveCustomerOrder();
      }

      if (!this.skipDataLoad) {
        const url = "/orders/".concat(this.order._id, ".json");

        const update = () => {
          const request = this.ecomPassport.checkAuthorization() ? this.ecomPassport.requestApi(url) : Object(_ecomplus_client__WEBPACK_IMPORTED_MODULE_3__["store"])({
            url
          });
          return request.then(_ref5 => {
            let {
              data
            } = _ref5;
            this.localOrder = { ...this.localOrder,
              ...data
            };
          }).catch(err => {
            console.error(err);
          });
        };

        this.reloadInterval = setInterval(update, 9000);

        if (!this.skipFirstDataLoad) {
          setTimeout(() => {
            update().finally(() => {
              this.isLoaded = true;
            });
          }, this.isNew ? 1000 : 3000);
        }
      }
    }
  },

  beforeDestroy() {
    clearInterval(this.reloadInterval);
  }

});

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/@ecomplus/storefront-app/src/components/scss/EcOrderInfo.scss?vue&type=style&index=0&lang=scss&":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--0-oneOf-0-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader??ref--0-oneOf-0-2!./node_modules/postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!./node_modules/sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./node_modules/@ecomplus/storefront-app/src/components/scss/EcOrderInfo.scss?vue&type=style&index=0&lang=scss& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
exports = ___CSS_LOADER_API_IMPORT___(true);
// Module
exports.push([module.i, ".order-info__number{color:var(--secondary);font-weight:var(--font-light);margin-top:var(--spacer-2)}.order-info__number span{font-weight:var(--font-bold)}.order-info__number small{color:var(--gray);display:block;font-size:var(--font-size-sm)}.order-info__timeline{display:flex;flex-wrap:nowrap;font-size:var(--font-size-sm);list-style:none;margin:var(--spacer-4) 0;overflow-x:auto;padding:0}@media (min-width:768px){.order-info__timeline{display:block}}.order-info__timeline-status{border:solid var(--border-color);border-width:0 0 5px;margin-right:var(--spacer-1);min-width:165px;padding:var(--spacer-2)}@media (min-width:768px){.order-info__timeline-status{border-bottom-width:0;border-left-width:5px;margin-bottom:var(--spacer-1);margin-right:0;min-width:0;padding-left:var(--spacer-3)}}.order-info__timeline-status--pending,.order-info__timeline-status--under_analysis{border-color:var(--warning)}.order-info__timeline-status--shipped{border-color:var(--info)}.order-info__timeline-status--in_dispute,.order-info__timeline-status--unauthorized,.order-info__timeline-status--voided{border-color:var(--danger)}.order-info__timeline-status--delivered,.order-info__timeline-status--paid{border-color:var(--success)}.order-info__timeline-date{color:var(--text-muted);font-size:85%}.order-info__details:not(:first-child){margin-top:var(--spacer-4)}.order-info__payment,.order-info__shipping-address,.order-info__shipping-freight{margin-bottom:var(--spacer-3)}.order-info__financial-status,.order-info__fulfillment-status{color:var(--info);font-weight:var(--font-bold)}.order-info__financial-status--pending{color:var(--warning)}.order-info__financial-status--under_analysis{color:var(--info)}.order-info__financial-status--in_dispute,.order-info__financial-status--unauthorized,.order-info__financial-status--voided{color:var(--danger)}.order-info__financial-status--paid,.order-info__fulfillment-status--delivered,.order-info__new{color:var(--success)}.order-info__new{font-size:var(--font-size-lg);margin-bottom:var(--spacer-5);text-align:center}.order-info__orders-link{margin-left:auto;margin-top:var(--spacer-4)}.order-info__summary{background:var(--light);margin-bottom:var(--spacer-3)}.order-info__buy-again,.order-info__toggle{margin-right:var(--spacer-3);margin-top:var(--spacer-3)}.order-info__cancelled{color:var(--danger)}", "",{"version":3,"sources":["EcOrderInfo.scss"],"names":[],"mappings":"AAKE,oBACE,sBAAA,CAEA,6BAAA,CADA,0BAHJ,CAMI,yBACE,4BAJN,CAOI,0BACE,iBAAA,CAEA,aAAA,CADA,6BAJN,CASE,sBAEE,YAAA,CACA,gBAAA,CAIA,6BAAA,CANA,eAAA,CAKA,wBAAA,CAFA,eAAA,CACA,SALJ,CASI,yBATF,sBAUI,aANJ,CACF,CAQI,6BAOE,gCAAA,CAAA,oBAAA,CALA,4BAAA,CACA,eAAA,CAFA,uBAAN,CAQM,yBATF,6BAcI,qBAAA,CACA,qBAAA,CAHA,6BAAA,CADA,cAAA,CAEA,WAAA,CAHA,4BAAN,CACF,CAOM,mFAEE,2BANR,CASM,sCACE,wBAPR,CAUM,yHAGE,0BAVR,CAaM,2EAEE,2BAZR,CAgBI,2BAEE,uBAAA,CADA,aAbN,CAkBE,uCACE,0BAhBJ,CAmBE,iFAGE,6BAnBJ,CAsBE,8DAGE,iBAAA,CADA,4BApBJ,CAyBI,uCACE,oBAvBN,CA0BI,8CACE,iBAxBN,CA2BI,4HAGE,mBA3BN,CAyCE,gGAJI,oBAzBN,CA6BE,iBAGE,6BAAA,CACA,6BAAA,CAHA,iBA9BJ,CAoCE,yBACE,gBAAA,CACA,0BAlCJ,CAqCE,qBACE,uBAAA,CACA,6BAnCJ,CAsCE,2CAGE,4BAAA,CADA,0BApCJ,CAwCE,uBACE,mBAtCJ","file":"EcOrderInfo.scss","sourcesContent":["$primary: #e83e8c; $secondary: #333333; $settings-theme: (\n  bootswatch: _,\n  custom: _\n); \n.order-info {\n  &__number {\n    color: var(--secondary);\n    margin-top: var(--spacer-2);\n    font-weight: var(--font-light);\n\n    span {\n      font-weight: var(--font-bold);\n    }\n\n    small {\n      color: var(--gray);\n      font-size: var(--font-size-sm);\n      display: block;\n    }\n  }\n\n  &__timeline {\n    list-style: none;\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-x: auto;\n    padding: 0;\n    margin: var(--spacer-4) 0;\n    font-size: var(--font-size-sm);\n\n    @media (min-width: 768px) {\n      display: block;\n    }\n\n    &-status {\n      padding: var(--spacer-2);\n      margin-right: var(--spacer-1);\n      min-width: 165px;\n      border-width: 0;\n      border-bottom-width: 5px;\n      border-style: solid;\n      border-color: var(--border-color);\n\n      @media (min-width: 768px) {\n        padding-left: var(--spacer-3);\n        margin-right: 0;\n        margin-bottom: var(--spacer-1);\n        min-width: 0;\n        border-bottom-width: 0;\n        border-left-width: 5px;\n      }\n\n      &--pending,\n      &--under_analysis {\n        border-color: var(--warning);\n      }\n\n      &--shipped {\n        border-color: var(--info);\n      }\n\n      &--unauthorized,\n      &--in_dispute,\n      &--voided {\n        border-color: var(--danger);\n      }\n\n      &--paid,\n      &--delivered  {\n        border-color: var(--success);\n      }\n    }\n\n    &-date {\n      font-size: 85%;\n      color: var(--text-muted);\n    }\n  }\n\n  &__details:not(:first-child) {\n    margin-top: var(--spacer-4);\n  }\n\n  &__payment,\n  &__shipping-address,\n  &__shipping-freight {\n    margin-bottom: var(--spacer-3);\n  }\n\n  &__financial-status,\n  &__fulfillment-status {\n    font-weight: var(--font-bold);\n    color: var(--info);\n  }\n\n  &__financial-status {\n    &--pending {\n      color: var(--warning);\n    }\n\n    &--under_analysis {\n      color: var(--info);\n    }\n\n    &--unauthorized,\n    &--in_dispute,\n    &--voided {\n      color: var(--danger);\n    }\n\n    &--paid {\n      color: var(--success);\n    }\n  }\n\n  &__fulfillment-status {\n    &--delivered {\n      color: var(--success);\n    }\n  }\n\n  &__new {\n    text-align: center;\n    color: var(--success);\n    font-size: var(--font-size-lg);\n    margin-bottom: var(--spacer-5);\n  }\n\n  &__orders-link {\n    margin-left: auto;\n    margin-top: var(--spacer-4);\n  }\n\n  &__summary {\n    background: var(--light);\n    margin-bottom: var(--spacer-3);\n  }\n\n  &__toggle,\n  &__buy-again {\n    margin-top: var(--spacer-3);\n    margin-right: var(--spacer-3);\n  }\n\n  &__cancelled {\n    color: var(--danger);\n  }\n}\n"]}]);
// Exports
module.exports = exports;


/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/@ecomplus/storefront-app/src/components/html/EcOrderInfo.html?vue&type=template&id=6f5567da&lang=html&":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@ecomplus/storefront-app/src/components/html/EcOrderInfo.html?vue&type=template&id=6f5567da&lang=html& ***!
  \*********************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "order-info py-4" },
    [
      _vm.isNew
        ? _c("div", { staticClass: "order-info__new" }, [
            _vm._v("\n    " + _vm._s(_vm.i19orderConfirmationMsg) + "!\n  "),
          ])
        : _vm._e(),
      _vm._v(" "),
      _c(
        "transition-group",
        { attrs: { "enter-active-class": "animated fadeInDown slower" } },
        [
          !_vm.isLoaded
            ? _c("div", { key: "loading" }, [
                _c(
                  "div",
                  { staticClass: "spinner-border", attrs: { role: "status" } },
                  [
                    _c("span", { staticClass: "sr-only" }, [
                      _vm._v("Loading..."),
                    ]),
                  ]
                ),
              ])
            : _c("div", { key: "loaded" }, [
                _c("div", { staticClass: "row" }, [
                  _c(
                    "div",
                    { staticClass: "col-md-5 col-lg-3" },
                    [
                      _c("h2", { staticClass: "order-info__number" }, [
                        _c("small", [_vm._v(_vm._s(_vm.i19orderNumber) + ":")]),
                        _vm._v("\n            #"),
                        _c("span", [_vm._v(_vm._s(_vm.localOrder.number))]),
                      ]),
                      _vm._v(" "),
                      _c(
                        "transition",
                        {
                          attrs: {
                            "enter-active-class": "animated fadeInDown",
                            "leave-active-class": "animated fadeOutUp fast",
                          },
                        },
                        [
                          !_vm.isUpdating && _vm.status === "cancelled"
                            ? _c(
                                "p",
                                { staticClass: "order-info__cancelled h3" },
                                [
                                  _vm._v(
                                    "\n              " +
                                      _vm._s(_vm.i19OrderStatus(_vm.status)) +
                                      "\n              "
                                  ),
                                  _c(
                                    "transition",
                                    {
                                      attrs: {
                                        "enter-active-class":
                                          "animated fadeInDown",
                                      },
                                    },
                                    [
                                      _vm.canReopenOrder
                                        ? _c(
                                            "button",
                                            {
                                              staticClass:
                                                "order-info__toggle btn",
                                              class:
                                                _vm.status === "cancelled"
                                                  ? "btn-success"
                                                  : "btn-secondary",
                                              on: { click: _vm.toggle },
                                            },
                                            [
                                              _c("i", {
                                                staticClass:
                                                  "i-check-circle mr-1",
                                              }),
                                              _vm._v(
                                                "\n                  " +
                                                  _vm._s(_vm.i19reopenOrder) +
                                                  "\n                "
                                              ),
                                            ]
                                          )
                                        : _vm._e(),
                                    ]
                                  ),
                                ],
                                1
                              )
                            : _vm._e(),
                        ]
                      ),
                      _vm._v(" "),
                      _vm.statusEntries.length
                        ? _c(
                            "ul",
                            { staticClass: "order-info__timeline" },
                            _vm._l(_vm.statusEntries, function (entry, i) {
                              return _c(
                                "li",
                                {
                                  key: "status-" + i,
                                  staticClass: "order-info__timeline-status",
                                  class:
                                    "order-info__timeline-status--" +
                                    entry.status,
                                },
                                [
                                  entry.date_time
                                    ? _c(
                                        "div",
                                        {
                                          staticClass:
                                            "order-info__timeline-date",
                                        },
                                        [
                                          _vm._v(
                                            "\n                " +
                                              _vm._s(
                                                _vm.formatDate(entry.date_time)
                                              ) +
                                              "\n                " +
                                              _vm._s(
                                                _vm.formatTime(entry.date_time)
                                              ) +
                                              "\n              "
                                          ),
                                        ]
                                      )
                                    : _vm._e(),
                                  _vm._v(
                                    "\n              " +
                                      _vm._s(
                                        _vm.i19FinancialStatus(entry.status) ||
                                          _vm.i19FulfillmentStatus(entry.status)
                                      ) +
                                      "\n            "
                                  ),
                                ]
                              )
                            }),
                            0
                          )
                        : _vm._e(),
                      _vm._v(" "),
                      _vm.accountOrdersUrl
                        ? _c(
                            "a",
                            {
                              staticClass:
                                "order-info__orders-link d-none d-md-block btn btn-light",
                              attrs: { href: _vm.accountOrdersUrl },
                            },
                            [
                              _c("i", { staticClass: "i-chevron-left mr-1" }),
                              _vm._v(
                                "\n            " +
                                  _vm._s(_vm.i19myOrders) +
                                  "\n          "
                              ),
                            ]
                          )
                        : _vm._e(),
                    ],
                    1
                  ),
                  _vm._v(" "),
                  _c("div", { staticClass: "col-md-7 col-lg-9" }, [
                    _c("div", { staticClass: "row" }, [
                      _c("div", { staticClass: "col-lg-6" }, [
                        _c(
                          "article",
                          [
                            _vm.transaction.status &&
                            _vm.transaction.status.current === "pending"
                              ? [
                                  _vm.transaction.banking_billet
                                    ? _c(
                                        "div",
                                        { staticClass: "order-info__billet" },
                                        [
                                          _c("p", { staticClass: "lead" }, [
                                            _vm._v(
                                              "\n                      " +
                                                _vm._s(_vm.i19doPaymentMsg) +
                                                "\n                    "
                                            ),
                                          ]),
                                          _vm._v(" "),
                                          _vm.transaction.banking_billet.code
                                            ? [
                                                _c("p", [
                                                  _vm._v(
                                                    "\n                        " +
                                                      _vm._s(
                                                        _vm.i19ticketCode
                                                      ) +
                                                      ":\n                        "
                                                  ),
                                                  _c("br"),
                                                  _c("samp", [
                                                    _vm._v(
                                                      _vm._s(
                                                        _vm.transaction
                                                          .banking_billet.code
                                                      )
                                                    ),
                                                  ]),
                                                ]),
                                                _vm._v(" "),
                                                _c(
                                                  "button",
                                                  {
                                                    staticClass:
                                                      "btn btn-outline-primary mr-3",
                                                    on: {
                                                      click: function () {
                                                        return _vm.toClipboard(
                                                          _vm.transaction
                                                            .banking_billet.code
                                                        )
                                                      },
                                                    },
                                                  },
                                                  [
                                                    _c("i", {
                                                      staticClass:
                                                        "i-copy mr-1",
                                                    }),
                                                    _vm._v(
                                                      "\n                        " +
                                                        _vm._s(
                                                          _vm.i19copyCode
                                                        ) +
                                                        "\n                      "
                                                    ),
                                                  ]
                                                ),
                                              ]
                                            : _vm._e(),
                                          _vm._v(" "),
                                          _vm.transaction.banking_billet.link
                                            ? _c(
                                                "a",
                                                {
                                                  staticClass:
                                                    "btn btn-primary",
                                                  attrs: {
                                                    target: "_blank",
                                                    href: _vm.transaction
                                                      .banking_billet.link,
                                                  },
                                                },
                                                [
                                                  _c("i", {
                                                    staticClass: "i-print mr-1",
                                                  }),
                                                  _vm._v(
                                                    "\n                      " +
                                                      _vm._s(
                                                        _vm.i19printBillet
                                                      ) +
                                                      "\n                    "
                                                  ),
                                                ]
                                              )
                                            : _vm._e(),
                                        ],
                                        2
                                      )
                                    : _vm.transaction.payment_link
                                    ? _c(
                                        "div",
                                        { staticClass: "order-info__redirect" },
                                        [
                                          _c("p", { staticClass: "lead" }, [
                                            _vm._v(
                                              "\n                      " +
                                                _vm._s(_vm.i19doPaymentMsg) +
                                                "\n                    "
                                            ),
                                          ]),
                                          _vm._v(" "),
                                          _c(
                                            "a",
                                            {
                                              staticClass:
                                                "btn btn-lg btn-success",
                                              attrs: {
                                                target: "_blank",
                                                href: _vm.transaction
                                                  .payment_link,
                                              },
                                            },
                                            [
                                              _c("i", {
                                                staticClass:
                                                  "i-arrow-right mr-1",
                                              }),
                                              _vm._v(
                                                "\n                      " +
                                                  _vm._s(
                                                    _vm.i19redirectToPayment
                                                  ) +
                                                  "\n                    "
                                              ),
                                            ]
                                          ),
                                        ]
                                      )
                                    : _vm._e(),
                                ]
                              : _vm._e(),
                            _vm._v(" "),
                            _c(
                              "div",
                              { staticClass: "order-info__details" },
                              [
                                _vm._t(
                                  "payment",
                                  function () {
                                    return [
                                      _c(
                                        "div",
                                        {
                                          staticClass:
                                            "order-info__payment card",
                                        },
                                        [
                                          _c(
                                            "div",
                                            { staticClass: "card-header" },
                                            [
                                              _c(
                                                "span",
                                                {
                                                  staticClass:
                                                    "order-info__financial-status",
                                                  class:
                                                    "order-info__financial-status--" +
                                                    _vm.financialStatus,
                                                },
                                                [
                                                  _c("i", {
                                                    staticClass:
                                                      "i-money-check mr-1",
                                                  }),
                                                  _vm._v(
                                                    "\n                          " +
                                                      _vm._s(
                                                        _vm.i19FinancialStatus(
                                                          _vm.financialStatus
                                                        )
                                                      ) +
                                                      "\n                        "
                                                  ),
                                                ]
                                              ),
                                            ]
                                          ),
                                          _vm._v(" "),
                                          _vm._l(
                                            _vm.localOrder.transactions,
                                            function (transaction) {
                                              return _c(
                                                "div",
                                                {
                                                  key: "t-" + transaction._id,
                                                  staticClass: "card-body",
                                                },
                                                [
                                                  _c(
                                                    "p",
                                                    {
                                                      staticClass:
                                                        "order-info__payment-value",
                                                    },
                                                    [
                                                      transaction.payment_method
                                                        .name
                                                        ? [
                                                            _vm._v(
                                                              "\n                            " +
                                                                _vm._s(
                                                                  transaction
                                                                    .payment_method
                                                                    .name
                                                                ) +
                                                                ":\n                          "
                                                            ),
                                                          ]
                                                        : _vm.localOrder
                                                            .payment_method_label
                                                        ? [
                                                            _vm._v(
                                                              "\n                            " +
                                                                _vm._s(
                                                                  _vm.localOrder
                                                                    .payment_method_label
                                                                ) +
                                                                ":\n                          "
                                                            ),
                                                          ]
                                                        : _vm._e(),
                                                      _vm._v(" "),
                                                      transaction.installments &&
                                                      transaction.installments
                                                        .value
                                                        ? _c("strong", [
                                                            _vm._v(
                                                              "\n                            " +
                                                                _vm._s(
                                                                  transaction
                                                                    .installments
                                                                    .number
                                                                ) +
                                                                "x\n                            " +
                                                                _vm._s(
                                                                  _vm.i19of.toLowerCase()
                                                                ) +
                                                                "\n                            " +
                                                                _vm._s(
                                                                  _vm.formatMoney(
                                                                    transaction
                                                                      .installments
                                                                      .value
                                                                  )
                                                                ) +
                                                                "\n                          "
                                                            ),
                                                          ])
                                                        : _c("strong", [
                                                            _vm._v(
                                                              "\n                            " +
                                                                _vm._s(
                                                                  _vm.formatMoney(
                                                                    transaction.amount ||
                                                                      _vm
                                                                        .localOrder
                                                                        .amount
                                                                        .total
                                                                  )
                                                                ) +
                                                                "\n                          "
                                                            ),
                                                          ]),
                                                      _vm._v(" "),
                                                      _vm.hasManyTransactions &&
                                                      transaction.status
                                                        ? [
                                                            _c("br"),
                                                            _vm._v(" "),
                                                            _c(
                                                              "span",
                                                              {
                                                                staticClass:
                                                                  "text-muted",
                                                              },
                                                              [
                                                                _vm._v(
                                                                  "\n                              " +
                                                                    _vm._s(
                                                                      _vm.i19FinancialStatus(
                                                                        transaction
                                                                          .status
                                                                          .current
                                                                      )
                                                                    ) +
                                                                    "\n                            "
                                                                ),
                                                              ]
                                                            ),
                                                          ]
                                                        : _vm._e(),
                                                    ],
                                                    2
                                                  ),
                                                  _vm._v(" "),
                                                  transaction.notes
                                                    ? _c("p", {
                                                        staticClass:
                                                          "order-info__payment-notes alert alert-warning",
                                                        attrs: {
                                                          role: "alert",
                                                        },
                                                        domProps: {
                                                          innerHTML: _vm._s(
                                                            transaction.notes
                                                          ),
                                                        },
                                                      })
                                                    : _vm._e(),
                                                  _vm._v(" "),
                                                  transaction.credit_card
                                                    ? _c(
                                                        "p",
                                                        {
                                                          staticClass:
                                                            "order-info__credit-card",
                                                        },
                                                        [
                                                          _vm._v(
                                                            "\n                          " +
                                                              _vm._s(
                                                                transaction
                                                                  .credit_card
                                                                  .company
                                                              ) +
                                                              "\n                          "
                                                          ),
                                                          transaction
                                                            .credit_card
                                                            .last_digits
                                                            ? _c("span", [
                                                                !transaction
                                                                  .credit_card
                                                                  .company
                                                                  ? _c("span", [
                                                                      _vm._v(
                                                                        "\n                              " +
                                                                          _vm._s(
                                                                            _vm.i19cardNumber
                                                                          ) +
                                                                          "\n                            "
                                                                      ),
                                                                    ])
                                                                  : _vm._e(),
                                                                _vm._v(
                                                                  "\n                            **** " +
                                                                    _vm._s(
                                                                      transaction
                                                                        .credit_card
                                                                        .last_digits
                                                                    ) +
                                                                    "\n                          "
                                                                ),
                                                              ])
                                                            : _vm._e(),
                                                        ]
                                                      )
                                                    : _vm._e(),
                                                  _vm._v(" "),
                                                  transaction.intermediator
                                                    ? [
                                                        transaction
                                                          .intermediator
                                                          .transaction_code
                                                          ? _c(
                                                              "div",
                                                              {
                                                                staticClass:
                                                                  "order-info__transaction-code",
                                                              },
                                                              [
                                                                _c("small", [
                                                                  _vm._v(
                                                                    _vm._s(
                                                                      _vm.i19transactionCode
                                                                    )
                                                                  ),
                                                                ]),
                                                                _vm._v(" "),
                                                                _c("br"),
                                                                _vm._v(" "),
                                                                _c("code", [
                                                                  _vm._v(
                                                                    _vm._s(
                                                                      transaction
                                                                        .intermediator
                                                                        .transaction_code
                                                                    )
                                                                  ),
                                                                ]),
                                                                _vm._v(" "),
                                                                _c("br"),
                                                                _vm._v(" "),
                                                                _c(
                                                                  "button",
                                                                  {
                                                                    staticClass:
                                                                      "btn btn-sm btn-light",
                                                                    on: {
                                                                      click:
                                                                        function () {
                                                                          return _vm.toClipboard(
                                                                            transaction
                                                                              .intermediator
                                                                              .transaction_code
                                                                          )
                                                                        },
                                                                    },
                                                                  },
                                                                  [
                                                                    _c("i", {
                                                                      staticClass:
                                                                        "i-copy mr-1",
                                                                    }),
                                                                    _vm._v(
                                                                      "\n                              " +
                                                                        _vm._s(
                                                                          _vm.i19copyCode
                                                                        ) +
                                                                        "\n                            "
                                                                    ),
                                                                  ]
                                                                ),
                                                              ]
                                                            )
                                                          : _vm._e(),
                                                        _vm._v(" "),
                                                        transaction
                                                          .intermediator
                                                          .transaction_reference
                                                          ? _c(
                                                              "div",
                                                              {
                                                                staticClass:
                                                                  "order-info__transaction-reference",
                                                              },
                                                              [
                                                                _c("small", [
                                                                  _vm._v(
                                                                    _vm._s(
                                                                      _vm.i19referenceCode
                                                                    )
                                                                  ),
                                                                ]),
                                                                _vm._v(" "),
                                                                _c("br"),
                                                                _vm._v(
                                                                  "\n                            " +
                                                                    _vm._s(
                                                                      transaction
                                                                        .intermediator
                                                                        .transaction_reference
                                                                    ) +
                                                                    "\n                          "
                                                                ),
                                                              ]
                                                            )
                                                          : _vm._e(),
                                                      ]
                                                    : _vm._e(),
                                                ],
                                                2
                                              )
                                            }
                                          ),
                                        ],
                                        2
                                      ),
                                    ]
                                  },
                                  null,
                                  {
                                    order: _vm.localOrder,
                                    transaction: _vm.transaction,
                                    financialStatus: _vm.financialStatus,
                                  }
                                ),
                                _vm._v(" "),
                                _vm._t(
                                  "shipping",
                                  function () {
                                    return [
                                      _c(
                                        "div",
                                        { staticClass: "order-info__shipping" },
                                        [
                                          _vm._l(
                                            _vm.localOrder.shipping_lines,
                                            function (shippingLine) {
                                              return _c(
                                                "div",
                                                {
                                                  key: "s-" + shippingLine._id,
                                                  staticClass:
                                                    "order-info__shipping-freight card",
                                                },
                                                [
                                                  _c(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "card-header",
                                                    },
                                                    [
                                                      _vm.fulfillmentStatus
                                                        ? _c(
                                                            "span",
                                                            {
                                                              staticClass:
                                                                "order-info__fulfillment-status",
                                                              class:
                                                                "order-info__fulfillment-status--" +
                                                                _vm.fulfillmentStatus,
                                                            },
                                                            [
                                                              _c("i", {
                                                                staticClass:
                                                                  "i-truck mr-1",
                                                              }),
                                                              _vm._v(
                                                                "\n                            " +
                                                                  _vm._s(
                                                                    _vm.i19FulfillmentStatus(
                                                                      _vm.fulfillmentStatus
                                                                    )
                                                                  ) +
                                                                  "\n                          "
                                                              ),
                                                            ]
                                                          )
                                                        : [
                                                            _c("i", {
                                                              staticClass:
                                                                "i-truck mr-1",
                                                            }),
                                                            _vm._v(
                                                              "\n                            " +
                                                                _vm._s(
                                                                  _vm.i19freight
                                                                ) +
                                                                "\n                          "
                                                            ),
                                                          ],
                                                    ],
                                                    2
                                                  ),
                                                  _vm._v(" "),
                                                  _c(
                                                    "div",
                                                    {
                                                      staticClass: "card-body",
                                                    },
                                                    [
                                                      shippingLine.app
                                                        ? _c("span", [
                                                            _vm._v(
                                                              "\n                            " +
                                                                _vm._s(
                                                                  shippingLine
                                                                    .app.label
                                                                ) +
                                                                "\n                          "
                                                            ),
                                                          ])
                                                        : _vm._e(),
                                                      _vm._v(" "),
                                                      _c("shipping-line", {
                                                        attrs: {
                                                          "shipping-line":
                                                            shippingLine,
                                                        },
                                                      }),
                                                      _vm._v(" "),
                                                      shippingLine.tracking_codes
                                                        ? _c(
                                                            "div",
                                                            {
                                                              staticClass:
                                                                "order-info__shipping-tracking",
                                                            },
                                                            [
                                                              _c("hr"),
                                                              _vm._v(" "),
                                                              _c(
                                                                "div",
                                                                {
                                                                  staticClass:
                                                                    "text-muted",
                                                                },
                                                                [
                                                                  _vm._v(
                                                                    "\n                              " +
                                                                      _vm._s(
                                                                        _vm.i19trackDelivery
                                                                      ) +
                                                                      ":\n                            "
                                                                  ),
                                                                ]
                                                              ),
                                                              _vm._v(" "),
                                                              _vm._l(
                                                                shippingLine.tracking_codes,
                                                                function (
                                                                  tracking,
                                                                  i
                                                                ) {
                                                                  return _c(
                                                                    "samp",
                                                                    {
                                                                      key:
                                                                        "track-" +
                                                                        i,
                                                                    },
                                                                    [
                                                                      tracking.link
                                                                        ? _c(
                                                                            "a",
                                                                            {
                                                                              attrs:
                                                                                {
                                                                                  href:
                                                                                    "" +
                                                                                    tracking.link,
                                                                                  target:
                                                                                    "_blank",
                                                                                },
                                                                            },
                                                                            [
                                                                              _vm._v(
                                                                                "\n                                " +
                                                                                  _vm._s(
                                                                                    tracking.code
                                                                                  ) +
                                                                                  "\n                              "
                                                                              ),
                                                                            ]
                                                                          )
                                                                        : _c(
                                                                            "span",
                                                                            [
                                                                              _vm._v(
                                                                                "\n                                " +
                                                                                  _vm._s(
                                                                                    tracking.code
                                                                                  ) +
                                                                                  "\n                              "
                                                                              ),
                                                                            ]
                                                                          ),
                                                                    ]
                                                                  )
                                                                }
                                                              ),
                                                            ],
                                                            2
                                                          )
                                                        : _vm._e(),
                                                    ],
                                                    1
                                                  ),
                                                ]
                                              )
                                            }
                                          ),
                                          _vm._v(" "),
                                          _vm.canShowShippingAddress
                                            ? _c(
                                                "div",
                                                {
                                                  staticClass:
                                                    "order-info__shipping-address card",
                                                },
                                                [
                                                  _c(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "card-header",
                                                    },
                                                    [
                                                      _c("i", {
                                                        staticClass:
                                                          "i-map-marked mr-1",
                                                      }),
                                                      _vm._v(
                                                        "\n                          " +
                                                          _vm._s(
                                                            _vm.i19shippingAddress
                                                          ) +
                                                          "\n                        "
                                                      ),
                                                    ]
                                                  ),
                                                  _vm._v(" "),
                                                  _c(
                                                    "address",
                                                    {
                                                      staticClass:
                                                        "card-body mb-0",
                                                    },
                                                    [
                                                      _vm._v(
                                                        "\n                          " +
                                                          _vm._s(
                                                            _vm.shippingAddress
                                                              .street
                                                          ) +
                                                          "\n                          "
                                                      ),
                                                      _vm.shippingAddress.number
                                                        ? [
                                                            _vm._v(
                                                              "\n                            " +
                                                                _vm._s(
                                                                  _vm
                                                                    .shippingAddress
                                                                    .number
                                                                ) +
                                                                "\n                          "
                                                            ),
                                                          ]
                                                        : _vm._e(),
                                                      _vm._v(" "),
                                                      _vm.shippingAddress
                                                        .complement
                                                        ? [
                                                            _vm._v(
                                                              "\n                            , " +
                                                                _vm._s(
                                                                  _vm
                                                                    .shippingAddress
                                                                    .complement
                                                                ) +
                                                                "\n                          "
                                                            ),
                                                          ]
                                                        : _vm._e(),
                                                      _vm._v(" "),
                                                      _vm.shippingAddress
                                                        .near_to
                                                        ? [
                                                            _c("br"),
                                                            _vm._v(
                                                              _vm._s(
                                                                _vm
                                                                  .shippingAddress
                                                                  .near_to
                                                              ) +
                                                                "\n                          "
                                                            ),
                                                          ]
                                                        : _vm._e(),
                                                      _vm._v(" "),
                                                      _c("br"),
                                                      _vm._v(" "),
                                                      _vm._l(
                                                        [
                                                          "borough",
                                                          "city",
                                                          "province_code",
                                                        ],
                                                        function (field, i) {
                                                          return _vm
                                                            .shippingAddress[
                                                            field
                                                          ]
                                                            ? _c(
                                                                "span",
                                                                { key: field },
                                                                [
                                                                  _vm._v(
                                                                    "\n                            " +
                                                                      _vm._s(
                                                                        _vm
                                                                          .shippingAddress[
                                                                          field
                                                                        ] +
                                                                          (i ===
                                                                          2
                                                                            ? "."
                                                                            : ",")
                                                                      ) +
                                                                      "\n                          "
                                                                  ),
                                                                ]
                                                              )
                                                            : _vm._e()
                                                        }
                                                      ),
                                                      _vm._v(" "),
                                                      _c("br"),
                                                      _vm._v(" "),
                                                      _c("span", [
                                                        _vm._v(
                                                          "\n                            " +
                                                            _vm._s(
                                                              _vm.i19zipCode
                                                            ) +
                                                            ":\n                            "
                                                        ),
                                                        _c("samp", [
                                                          _vm._v(
                                                            _vm._s(
                                                              _vm
                                                                .shippingAddress
                                                                .zip
                                                            )
                                                          ),
                                                        ]),
                                                      ]),
                                                    ],
                                                    2
                                                  ),
                                                ]
                                              )
                                            : _vm._e(),
                                        ],
                                        2
                                      ),
                                    ]
                                  },
                                  null,
                                  {
                                    order: _vm.localOrder,
                                    shippingAddress: _vm.shippingAddress,
                                    fulfillmentStatus: _vm.fulfillmentStatus,
                                  }
                                ),
                                _vm._v(" "),
                                _vm._t(
                                  "notes",
                                  function () {
                                    return [
                                      _vm.localOrder.notes
                                        ? _c(
                                            "div",
                                            {
                                              staticClass:
                                                "order-info__notes card",
                                            },
                                            [
                                              _c(
                                                "div",
                                                { staticClass: "card-header" },
                                                [
                                                  _c("span", [
                                                    _vm._v(
                                                      "\n                          " +
                                                        _vm._s(_vm.i19notes) +
                                                        "\n                        "
                                                    ),
                                                  ]),
                                                ]
                                              ),
                                              _vm._v(" "),
                                              _c(
                                                "div",
                                                { staticClass: "card-body" },
                                                [
                                                  _c("span", [
                                                    _vm._v(
                                                      "\n                          " +
                                                        _vm._s(
                                                          _vm.localOrder.notes
                                                        ) +
                                                        "\n                        "
                                                    ),
                                                  ]),
                                                ]
                                              ),
                                            ]
                                          )
                                        : _vm._e(),
                                    ]
                                  },
                                  null,
                                  { order: _vm.localOrder }
                                ),
                              ],
                              2
                            ),
                            _vm._v(" "),
                            !_vm.isAuthenticated
                              ? _c("p", { staticClass: "lead" }, [
                                  _vm._v(
                                    "\n                  " +
                                      _vm._s(_vm.i19loginForOrderDetailsMsg) +
                                      "\n                  "
                                  ),
                                  _c("br"),
                                  _vm._v(" "),
                                  _c(
                                    "a",
                                    {
                                      staticClass: "btn btn-primary mt-2",
                                      attrs: { href: _vm.accountOrdersUrl },
                                    },
                                    [
                                      _c("i", { staticClass: "i-user mr-1" }),
                                      _vm._v(
                                        "\n                    " +
                                          _vm._s(_vm.i19login) +
                                          "\n                  "
                                      ),
                                    ]
                                  ),
                                ])
                              : _vm._e(),
                          ],
                          2
                        ),
                      ]),
                      _vm._v(" "),
                      _vm.localOrder.amount
                        ? _c(
                            "div",
                            { staticClass: "col-lg-6" },
                            [
                              _c(
                                "div",
                                { staticClass: "order-info__summary card" },
                                [
                                  _c(
                                    "div",
                                    { staticClass: "card-body" },
                                    [
                                      _c("ec-summary", {
                                        attrs: {
                                          amount: _vm.localOrder.amount,
                                          items: _vm.localOrder.items,
                                          buyer:
                                            _vm.localOrder.buyer &&
                                            _vm.localOrder.buyer[0],
                                          shippingAddress: _vm.shippingAddress,
                                        },
                                      }),
                                    ],
                                    1
                                  ),
                                ]
                              ),
                              _vm._v(" "),
                              !_vm.isUpdating &&
                              _vm.status === "open" &&
                              !_vm.fulfillmentStatus
                                ? _c(
                                    "button",
                                    {
                                      staticClass:
                                        "order-info__toggle btn btn-danger",
                                      on: { click: _vm.toggle },
                                    },
                                    [
                                      _c("i", {
                                        staticClass:
                                          "i-exclamation-triangle mr-1",
                                      }),
                                      _vm._v(
                                        "\n                " +
                                          _vm._s(_vm.i19cancelOrder) +
                                          "\n              "
                                      ),
                                    ]
                                  )
                                : _vm._e(),
                              _vm._v(" "),
                              _vm._t("buy", function () {
                                return [
                                  _c(
                                    "button",
                                    {
                                      staticClass: "order-info__buy-again btn",
                                      class: _vm.isNew
                                        ? "btn-outline-secondary"
                                        : "btn-primary",
                                      attrs: { type: "button" },
                                      on: { click: _vm.buyAgain },
                                    },
                                    [
                                      _c("i", {
                                        staticClass: "i-shopping-bag mr-1",
                                      }),
                                      _vm._v(
                                        "\n                  " +
                                          _vm._s(_vm.i19buyAgain) +
                                          "\n                "
                                      ),
                                    ]
                                  ),
                                ]
                              }),
                            ],
                            2
                          )
                        : _vm._e(),
                    ]),
                  ]),
                ]),
              ]),
        ]
      ),
      _vm._v(" "),
      _vm.accountOrdersUrl
        ? _c(
            "a",
            {
              staticClass: "order-info__orders-link d-md-none btn btn-light",
              attrs: { href: _vm.accountOrdersUrl },
            },
            [
              _c("i", { staticClass: "i-chevron-left mr-1" }),
              _vm._v("\n    " + _vm._s(_vm.i19myOrders) + "\n  "),
            ]
          )
        : _vm._e(),
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/@ecomplus/storefront-app/src/components/scss/EcOrderInfo.scss?vue&type=style&index=0&lang=scss&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader!./node_modules/css-loader/dist/cjs.js??ref--0-oneOf-0-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader??ref--0-oneOf-0-2!./node_modules/postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!./node_modules/sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./node_modules/@ecomplus/storefront-app/src/components/scss/EcOrderInfo.scss?vue&type=style&index=0&lang=scss& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../resolve-url-loader??ref--0-oneOf-0-2!../../../../../postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./EcOrderInfo.scss?vue&type=style&index=0&lang=scss& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/@ecomplus/storefront-app/src/components/scss/EcOrderInfo.scss?vue&type=style&index=0&lang=scss&");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! ../../../../../vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("0cb08df4", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ })

}]);
//# sourceMappingURL=chunk.2e1963f1c2c7df42307e.js.map